---
layout: post
title:  后台管理系统（中台系统）接入websocket通知机制
date:   2017-03-01 08:59:59
categories: it
summary: >
    actioncable／sidekiq 跑了一下，确实可行，但是商业实现必须'有用'。
---

本来只想写一下websocket的实现优势。但是想到用户未必持久在线，所以仅浅谈。
也可以尝试接入chrome通知／微信通知等等

所有通知机制都通过订阅（kalfka），ws接入标记为用户id（rtx）

## 三大原则

1，所有通知全部来自于server端

2，收发通知协议通过阅异步队列，任何业务都不耦合，业务描述仅用URI呈现

3，通知协议除去文字内容，有且仅有一个 URI 作为目标动作源


## 能想到的场景

1，多人操作协同：同步修改／覆盖修改／同一数据源

2，风险动作协同：审核／删除／预警等

3，系统通知发放，功能上线／网落状况，单点风险定位通知


实现应该很简单，第三方服务接入多个系统，并不需要系统本身实现

毕竟异步队列所有系统都有依赖